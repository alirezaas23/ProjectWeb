@using Microsoft.AspNetCore.Identity
@using ProjectWeb.Domain.Models
@using ProjectWeb.Application.Interfaces
@inject UserManager<UserApp> userManager
@inject IWebProductInterface webProductInterface
@inject IOrderInterface orderInterface
@{
    ViewData["Title"] = "صفحه مدیریت سایت";
    Layout = "~/Views/Shared/_Layout_Admin.cshtml";
}

<div class="row">
    <div class="col-12 col-md-4">
        <div class="card custom-box-shadow">
            <div class="card-body text-center">
                <img src="~/imgs/users-100.png" alt="users-icon" />
                <a asp-controller="ManageUsers" asp-action="Index" class="text-hover">
                    <p class="mt-3">
                        تعداد کاربران
                    </p>
                </a>
                @{
                    var usersCount = userManager.Users.Count();
                    <div class="custom-circle custom-box-shadow ">
                        <span>
                            @usersCount
                        </span>
                    </div>
                }
            </div>
        </div>
    </div>
    <div class="col-12 col-md-4 mt-3 mt-sm-0">
        <div class="card custom-box-shadow">
            <div class="card-body text-center">
                <img src="~/imgs/products-100.png" alt="users-icon" />
                <a asp-controller="WebProduct" asp-action="Index" class="text-hover">
                    <p class="mt-3">
                        تعداد محصولات
                    </p>
                </a>
                <div class="custom-circle custom-box-shadow">
                    <span>
                        @webProductInterface.ProductsCount()
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="col-12 col-md-4 mt-3 mt-sm-0">
        <div class="card custom-box-shadow">
            <div class="card-body text-center">
                <img src="~/imgs/logistics-100.png" alt="users-icon" />
                <a asp-controller="Admin" asp-action="Orders" class="text-hover">
                    <p class="mt-3">
                        تعداد سفارشات
                    </p>
                </a>
                <div class="custom-circle custom-box-shadow">
                    <span>
                        @orderInterface.FinallyOrders()
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>


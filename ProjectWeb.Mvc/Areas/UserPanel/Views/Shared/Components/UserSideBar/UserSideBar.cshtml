@using ProjectWeb.Application.Extensions
@using ProjectWeb.Application.Statics
@model ProjectWeb.Domain.Models.Account.User

@{
    <div class="profile-quick-access custom-box-shadow">
        <input onchange="ChangeUserAvatar('@Url.Action("ChangeUserAvatar", "Home", new{area = "UserPanel"})')" type="file" name="userAvatar" id="userAvatar" class="display-none" />
        <a class="profile-img-background" onclick="OpenAvatarInput()">
            <img class="profile-img" src="@PathTools.UserAvatarPath@Model.Avatar" alt="user-icon" id="custom-tooltip" data-toggle="tooltip" data-placement="top"
                 title="تغییر عکس پروفایل" />
        </a>
        
        <div class="details">
            <p class="mt-1 font-weight-bold">@Model.GetUserDisplayName()</p>
            <p class="text-muted small">عضویت : @Model.CreateDateTime.ToShamsi()</p>
        </div>
        
        <ul>
            <li>
                <a asp-action="Logout" asp-controller="Account" id="logout-tooltip" data-toggle="tooltip" data-placement="top" title=" خروج ">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgb(199,211,226);"><path d="M12 21c4.411 0 8-3.589 8-8 0-3.35-2.072-6.221-5-7.411v2.223A6 6 0 0 1 18 13c0 3.309-2.691 6-6 6s-6-2.691-6-6a5.999 5.999 0 0 1 3-5.188V5.589C6.072 6.779 4 9.65 4 13c0 4.411 3.589 8 8 8z"></path><path d="M11 2h2v10h-2z"></path></svg>
                </a>
            </li>
            <li>
                <a asp-area="UserPanel" asp-controller="Account" asp-action="ChangePassword" id="lock-tooltip" data-toggle="tooltip" data-placement="top" title=" تغییر کلمه عبور ">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgb(199,211,226);"><path d="M12 2C9.243 2 7 4.243 7 7v3H6c-1.103 0-2 .897-2 2v8c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-8c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm6 10 .002 8H6v-8h12zm-9-2V7c0-1.654 1.346-3 3-3s3 1.346 3 3v3H9z"></path></svg>
                </a>
            </li>
            <li>
                <a asp-action="EditInfo" asp-controller="Account" asp-area="UserPanel" id="edit-tooltip" data-toggle="tooltip" data-placement="top" title=" ویرایش اطلاعات ">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgb(199,211,226);"><path d="M12 2a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3zm9 11v-1a7 7 0 0 0-7-7h-4a7 7 0 0 0-7 7v1h2v-1a5 5 0 0 1 5-5h4a5 5 0 0 1 5 5v1z"></path></svg>
                </a>
            </li>
        </ul>
    </div>

    <ul class="list-group custom-box-shadow">
        <li class="list-group-item">
            <a asp-controller="Home" asp-action="Index" asp-area="UserPanel" class="text-hover small-font">
                <i class="fas fa-circle menu-small-icon"></i>
                داشبورد
            </a>
        </li>
        <li class="list-group-item">
            <a asp-controller="Account" asp-action="EditInfo" asp-area="UserPanel" class="text-hover small-font">
                <i class="fas fa-circle menu-small-icon"></i>
                ویرایش حساب کاربری
            </a>
        </li>
        <li class="list-group-item">
            <a asp-controller="Account" asp-action="ChangePassword" asp-area="UserPanel" class="text-hover small-font">
                <i class="fas fa-circle menu-small-icon"></i>
                تغییر کلمه عبور
            </a>
        </li>
        @if (User.IsInRole("ادمین"))
        {
            <li class="list-group-item">
                <a asp-controller="Admin" asp-action="Orders" class="text-hover small-font">
                    <i class="fas fa-circle menu-small-icon"></i>
                    سفارشات
                </a>
            </li>
            <li class="list-group-item">
                <a asp-controller="Ticket" asp-action="AllTickets" class="text-hover small-font">
                    <i class="fas fa-circle menu-small-icon"></i>
                    مشاهده تیکت ها
                </a>
            </li>
        }
        else
        {
            <li class="list-group-item">
                <a asp-controller="Order" asp-action="ShowOrder" class="text-hover small-font">
                    <i class="fas fa-circle menu-small-icon"></i>
                    سبد خرید
                </a>
            </li>
            <li class="list-group-item">
                <a asp-controller="Order" asp-action="MyOrders" asp-route-userId="@Model.Id" class="text-hover small-font">
                    <i class="fas fa-circle menu-small-icon"></i>
                    سفارشات من
                </a>
            </li>
            <li class="list-group-item">
                <a asp-controller="Ticket" asp-action="SendTicket" class="text-hover small-font">
                    <i class="fas fa-circle menu-small-icon"></i>
                    ارسال تیکت
                </a>
            </li>
            <li class="list-group-item">
                <a asp-controller="Ticket" asp-action="MyTickets" asp-route-userId="@Model.Id" class="text-hover small-font">
                    <i class="fas fa-circle menu-small-icon"></i>
                    تیکت های ارسال شده من
                </a>
            </li>
        }
        <li class="list-group-item">
            <a asp-controller="Account" asp-action="LogOut" class="text-hover small-font">
                <i class="fas fa-circle menu-small-icon"></i>
                خروج از حساب
            </a>
        </li>
    </ul>
}